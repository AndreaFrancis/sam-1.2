<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/">
</head>
<body layout="row" ng-app="sam-1" ng-controller="AppCtrl">
    <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left">
        <md-toolbar class="md-theme-light">
            <h1 class="md-toolbar-tools">Menu</h1>
        </md-toolbar>
        <md-content  layout-padding layout="column">
            <md-button ng-repeat="module in allowed" ng-click="showMenu(module)">
                <div main-tex></div>
            </md-button>
            <md-button class="md-accent" flex ng-click="logOut()" aria-label="Menu">
                Salir
            </md-button>
        </md-content>
    </md-sidenav>
    <div layout="column" layout-align="center center" ng-hide="$root.currentUser">
        <img src="client/lib/ambulance.png" class="logo" alt="Image"/>
        <form layout="column" name="loginForm" class="form-center" novalidate>
            <md-input-container>
                <label>Nombre de usuario</label>
                <input ng-model="username" required name="username">
                <div ng-messages="loginForm.username.$error" ng-if="loginForm.username.$dirty">
                    <div ng-message="required">*Campo obligatorio</div>
                </div>
            </md-input-container>
            <md-input-container>
                <label>Password</label>
                <input ng-model="password" required name="password" type="password">
                <div ng-messages="loginForm.password.$error" ng-if="loginForm.password.$dirty">
                    <div ng-message="required">*Campo obligatorio</div>
                </div>
            </md-input-container>
            <label class="error">{{app.error}}</label>
            <md-button class="md-raised md-primary" ng-click="login()" ng-disabled="loginForm.$invalid">Sign in</md-button>
        </form>
    </div>
    <div layout="column" flex ng-show="$root.currentUser">
        <div layout="row" flex="10" hide-gt-md>
                <md-toolbar class="little-content md-primary" layout="row">
                    <md-button class="md-icon-button" flex ng-click="showLeftMenu()" aria-label="Menu">
                        <i class="fa fa-bars"></i>
                    </md-button>
                    <span flex></span>
                </md-toolbar>
        </div>
        <md-toolbar class="md-primary" hide-sm hide-md flex="10" layout="row">
            <md-tabs class="secondary-sidenav md-primary" flex="90">
                <md-tab ng-repeat="module in allowed">
                    <div demo-directive ></div>
                </md-tab>
            </md-tabs>
            <md-button flex="10" class="md-accent"  ng-click="logOut()" aria-label="Menu">
                Salir
            </md-button>
        </md-toolbar>
        <div ui-view class="controller-content" flex="90"></div>
    </div>
</body>
